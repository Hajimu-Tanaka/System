
############################################################
# Oracle SQLPLUS Todo
############################################################

#MacでSQLPlusとSQLLoaderを使用する
https://qiita.com/moriwakiii/items/8f317d75b6d9327a3649

----------

######## ダウンロードしたファイルを解凍する

/Users/tanakahajimu/workspace/Oracle
unzip instantclient-basic-macos.x64-12.2.0.1.0-2.zip
unzip instantclient-sqlplus-macos.x64-12.2.0.1.0-2.zip

tanakahajimu@tanakahajimenoMacBook-Air Oracle % ls -la  instantclient_12_2
total 484896
drwxr-xr-x@ 23 tanakahajimu  staff        736 Sep 13 22:36 .
drwxr-xr-x   8 tanakahajimu  staff        256 Sep 13 22:36 ..
-rw-rw-rw-@  1 tanakahajimu  staff        400 Jan 10  2018 BASIC_README
-rw-rw-rw-@  1 tanakahajimu  staff        404 Jan 10  2018 SQLPLUS_README
-rwxrwxrwx@  1 tanakahajimu  staff      10036 Jan 10  2018 adrci
-rwxrwxrwx@  1 tanakahajimu  staff      40360 Jan 10  2018 genezi
-r-xr-xr-x@  1 tanakahajimu  staff        342 Apr 25  2015 glogin.sql
lrwxrwxrwx   1 tanakahajimu  staff         20 Sep 13 22:36 libclntsh.dylib -> libclntsh.dylib.12.1
-rwxrwxrwx@  1 tanakahajimu  staff   85621532 Jan 10  2018 libclntsh.dylib.12.1
-rwxrwxrwx@  1 tanakahajimu  staff    4685408 Jan 10  2018 libclntshcore.dylib.12.1
-r-xr-xr-x@  1 tanakahajimu  staff    8179072 Jun 29  2017 libnnz12.dylib
lrwxrwxrwx   1 tanakahajimu  staff         18 Sep 13 22:36 libocci.dylib -> libocci.dylib.12.1
-rwxrwxrwx@  1 tanakahajimu  staff    1465312 Jan 10  2018 libocci.dylib.12.1
-rwxrwxrwx@  1 tanakahajimu  staff  124769196 Jan 10  2018 libociei.dylib
-r-xr-xr-x@  1 tanakahajimu  staff     151748 Aug  8  2017 libocijdbc12.dylib
-r-xr-xr-x@  1 tanakahajimu  staff     237780 Jan  8  2018 libons.dylib
-rwxrwxrwx@  1 tanakahajimu  staff      84988 Jan 10  2018 liboramysql12.dylib
-rwxrwxrwx@  1 tanakahajimu  staff    1267088 Jan 10  2018 libsqlplus.dylib
-r-xr-xr-x@  1 tanakahajimu  staff    1639388 Jul 12  2017 libsqlplusic.dylib
-r--r--r--@  1 tanakahajimu  staff    4036257 Dec 14  2016 ojdbc8.jar
-rwxr-xr-x@  1 tanakahajimu  staff       8480 Jan 10  2018 sqlplus
-rwxrwxrwx@  1 tanakahajimu  staff     146084 Jan 10  2018 uidrvci
-r--r--r--@  1 tanakahajimu  staff      74230 Jan 26  2017 xstreams.jar

######## instantclient_12_2を任意の場所に移動する

----- 20200913 ここまで実施、以降は検討中

######## tnsnames.oraを作成する
--
    oracle12 =
      (DESCRIPTION =
        (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
        (CONNECT_DATA =
          (SERVER = DEDICATED)
          (SERVICE_NAME = xe)
        )
      )
--

######## 環境変数を設定する
SQLPlusやSQLLoaderで使用する環境変数を設定
bashrcや.bash_profileに書いておくと便利

export ORACLE_HOME=<インスタントクライアントのディレクトリ>
export PATH=\$ORACLE_HOME:\$PATH
export DYLD_LIBRARY_PATH=\$ORACLE_HOME
export TNS_ADMIN=<tnsnames.oraがあるディレクトリ>

--

    #確認とバックアップ
    ls -la ~/.bash_profile
        -rw-r--r--  1 tanakahajimu  staff  107 Jul 29 18:18 /Users/tanakahajimu/.bash_profile
    cp ~/.bash_profile ~/.bash_profile_bk20200914

    --20200914 以下はまだ実施していない。どこかで永続的に環境変数を変える実証

    vi ~/.bash_profile

    export ORACLE_HOME=<インスタントクライアントのディレクトリ>
    export PATH=\$ORACLE_HOME:\$PATH
    export DYLD_LIBRARY_PATH=\$ORACLE_HOME
    export TNS_ADMIN=<tnsnames.oraがあるディレクトリ>

--


############################################################
# メモ
############################################################

以下にsqlplusのExeファイルが存在する
/Users/tanakahajimu/workspace/Oracle/instantclient_12_2

#直接起動する場合
./sqlplus /nolog
conn SYSTEM/Oracle12@localhost:1521/ORCLCDB

→もし「開発元が確認できない」と出た場合、ひたすら以下の手順
https://gori.me/mac/mac-tips/104874



